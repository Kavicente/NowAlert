<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PNP Analytics - {{ municipality }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/analytics.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <nav>
            <ul>
                <li><a href="{{ url_for('pnp_dashboard') }}">Dashboard</a></li>
                <li><a href="#" onclick="showSection('crime')">Crime Reports</a></li>
                <li><a href="#" onclick="showSection('traffic')">Traffic Incident Reports</a></li>
            </ul>
        </nav>
    </div>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>
        <header>
            <h1>Analytics for PNP - {{ municipality }}</h1>
            <p id="datetime"></p>
            <button class="download-btn" onclick="downloadReport()">DOWNLOAD {{ current_datetime }}</button>
        </header>
        <div class="tabs">
            <button class="tab active" onclick="filterData('today')">Today</button>
            <button class="tab" onclick="filterData('daily')">Daily</button>
            <button class="tab" onclick="filterData('weekly')">Weekly</button>
            <button class="tab" onclick="filterData('monthly')">Monthly</button>
            <button class="tab" onclick="filterData('yearly')">Yearly</button>
        </div>

        <!-- Crime Section -->
        <div id="crimeSection" class="section">
            <div class="chart-container"><h2>Crime Trends</h2><canvas id="crimeTrendsChart"></canvas></div>
            <div class="chart-container"><h2>Crime Distribution</h2><canvas id="crimeDistributionChart"></canvas></div>
            <div class="chart-container"><h2>Cause Analysis</h2><canvas id="crimeCauseAnalysisChart"></canvas></div>
            <div class="chart-container"><h2>Responded Alerts</h2><canvas id="crimeRespondedAlertsChart"></canvas></div>
            <div class="chart-container"><h2>Crime Type</h2><canvas id="crimeTypeChart"></canvas></div>
            <div class="chart-container"><h2>Suspect Age</h2><canvas id="suspectAgeChart"></canvas></div>
            <div class="chart-container"><h2>Suspect Gender</h2><canvas id="suspectGenderChart"></canvas></div>
            <div class="chart-container"><h2>Location Distribution</h2><canvas id="locationDistributionChart"></canvas></div>
        </div>

        <!-- Traffic Incident Section -->
        <div id="trafficSection" class="section hidden">
            <div class="chart-container"><h2>Traffic Incident Trends</h2><canvas id="trafficTrendsChart"></canvas></div>
            <div class="chart-container"><h2>Traffic Incident Distribution</h2><canvas id="trafficDistributionChart"></canvas></div>
            <div class="chart-container"><h2>Cause Analysis</h2><canvas id="trafficCauseAnalysisChart"></canvas></div>
            <div class="chart-container"><h2>Responded Alerts</h2><canvas id="trafficRespondedAlertsChart"></canvas></div>
            <div class="chart-container"><h2>Vehicle Types</h2><canvas id="trafficVehicleTypesChart"></canvas></div>
            <div class="chart-container"><h2>Road Condition</h2><canvas id="trafficRoadConditionChart"></canvas></div>
            <div class="chart-container"><h2>Time of Day</h2><canvas id="trafficTimeOfDayChart"></canvas></div>
        </div>
    </main>
</body>
</html>
